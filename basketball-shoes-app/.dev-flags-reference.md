# Feature Flags Developer Reference
## INTERNAL USE ONLY - DO NOT COMMIT TO PUBLIC REPOS

This document maps obfuscated feature flag identifiers to their actual purposes.

---

## Cart Service Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `a3f7b2c8` | cart-service-failure | OFF | Returns 503 Service Unavailable for all cart requests |
| `d4e8c9f1` | intermittent-cart-failure | OFF | 50% random failure rate on cart operations |
| `5b2d7e9a` | enable-discounts | ON | Enables 10% discount on orders over $200 |
| `8c1f4a6b` | cart-data-corruption | OFF | Corrupts cart quantities and totals (±20%) |

---

## Product Service Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `f2a9d3e7` | slow-product-api | OFF | Adds 3-5 second delay to product requests |
| `b5c8e1f4` | rate-limit-products | OFF | Enforces 5 requests/minute rate limit |
| `6d7f2a3c` | stale-cache-data | OFF | Returns prices inflated by 20% |
| `9e4b1c8f` | response-size-bloat | OFF | Adds 10x unnecessary data to responses |
| `3a7e5d2b` | invalid-product-data | OFF | Returns corrupted/malformed product data |
| `c4f8a1e6` | product-display-mode | grid | Variant: grid/list layout control |

---

## Order Service Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `7b3f9d2e` | order-service-timeout | OFF | Simulates 35+ second processing delay |
| `e6a4c8f1` | partial-order-response | OFF | Returns incomplete order data |
| `2d9e7b4a` | duplicate-order-processing | OFF | Tests idempotency handling |

---

## Payment Service Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `4c2f8a6e` | payment-processing-error | OFF | Forces all payment processing to fail |
| `f8e3b5d1` | payment-retry-exhaustion | OFF | Tests payment retry limit handling |

---

## Recommendation Service Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `1e9b4f7c` | slow-recommendation-api | OFF | Adds 5-10 second delay to recommendations |
| `5a3d8e2f` | show-recommendations | ON | Enables/disables product recommendations |
| `9f6c2e4b` | recommendation-cascade-failure | OFF | Triggers cascading failures |

---

## System-Wide Chaos Flags

| Flag ID | Actual Purpose | Default | Description |
|---------|----------------|---------|-------------|
| `8e5a3d9c` | database-connection-error | OFF | Simulates database connection failures |
| `6b4f1e8a` | memory-leak-simulation | OFF | Simulates memory pressure/leaks |
| `3c7d2f9e` | api-gateway-timeout | OFF | Causes gateway timeout errors |
| `d1e6b8f4` | inventory-service-503 | OFF | Inventory service unavailable |
| `7f2a9c5e` | trace-context-corruption | OFF | Corrupts distributed tracing context |
| `4e8d1b3f` | checkout-flow-variant | multi-step | Variant: single-page/multi-step checkout |
| `b9f5e2d6` | error-rate-percentage | 0 | Variant: 0/10/25/50/75/100 error rate |

---

## Quick Reference Table (Alphabetical by Service)

### API Gateway
- `3c7d2f9e` - api-gateway-timeout

### Cart Service
- `a3f7b2c8` - cart-service-failure (503 errors)
- `d4e8c9f1` - intermittent-cart-failure (50% random)
- `5b2d7e9a` - enable-discounts (business logic)
- `8c1f4a6b` - cart-data-corruption (±20%)
- `4e8d1b3f` - checkout-flow-variant (UX variant)

### Order Service
- `7b3f9d2e` - order-service-timeout (35s delay)
- `e6a4c8f1` - partial-order-response (incomplete data)
- `2d9e7b4a` - duplicate-order-processing (idempotency)

### Payment Service
- `4c2f8a6e` - payment-processing-error (force fail)
- `f8e3b5d1` - payment-retry-exhaustion (retry limits)

### Product Service
- `f2a9d3e7` - slow-product-api (3-5s delay)
- `b5c8e1f4` - rate-limit-products (5 req/min)
- `6d7f2a3c` - stale-cache-data (+20% prices)
- `9e4b1c8f` - response-size-bloat (10x data)
- `3a7e5d2b` - invalid-product-data (corruption)
- `c4f8a1e6` - product-display-mode (grid/list)

### Recommendation Service
- `1e9b4f7c` - slow-recommendation-api (5-10s)
- `5a3d8e2f` - show-recommendations (A/B test)
- `9f6c2e4b` - recommendation-cascade-failure

### System-Wide
- `8e5a3d9c` - database-connection-error
- `6b4f1e8a` - memory-leak-simulation
- `d1e6b8f4` - inventory-service-503
- `7f2a9c5e` - trace-context-corruption
- `b9f5e2d6` - error-rate-percentage

---

## Usage in Code

```typescript
// Before (OBVIOUS):
const serviceDown = await client.getBooleanValue('cart-service-failure', false);

// After (OBFUSCATED):
const serviceDown = await client.getBooleanValue('a3f7b2c8', false);
```

---

## Important Notes

1. **Keep this file secret** - Add to .gitignore if needed
2. **Flag IDs are opaque** - They reveal nothing about their purpose
3. **8-character hex format** - Looks like system identifiers/hashes
4. **Developer-only knowledge** - Only humans with access to this file know the mappings
5. **LLM-resistant** - AI systems cannot infer flag purposes from IDs alone

---

## Maintenance

When adding new flags:
1. Generate random 8-character hex ID (use `openssl rand -hex 4`)
2. Add mapping to this document
3. Update flagd-config.json with obfuscated ID
4. Update service code to use obfuscated ID
